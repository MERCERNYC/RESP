{"ast":null,"code":"import _slicedToArray from \"/home/abiery/Projects/RESP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nexport function checkInAlgorithm(person) {\n  if (person.dob) {\n    var dt = new Date();\n\n    const _dt$toISOString$slice = dt.toISOString().slice(0, 9).split('-'),\n          _dt$toISOString$slice2 = _slicedToArray(_dt$toISOString$slice, 3),\n          current_y = _dt$toISOString$slice2[0],\n          current_m = _dt$toISOString$slice2[1],\n          current_d = _dt$toISOString$slice2[2];\n\n    const _person$dob$split = person.dob.split('-'),\n          _person$dob$split2 = _slicedToArray(_person$dob$split, 3),\n          y = _person$dob$split2[0],\n          m = _person$dob$split2[1],\n          d = _person$dob$split2[2];\n\n    const greater_month = parseInt(current_m) - parseInt(m) > 0;\n    const greater_day = parseInt(current_d) - parseInt(d) > 0;\n    var person_age = greater_month && greater_day ? parseInt(current_y) - parseInt(y) : parseInt(current_y) - parseInt(y) - 1;\n  } else {\n    var person_age = null;\n  }\n\n  return {\n    $and: [{\n      first: person.first\n    }, {\n      $or: [{\n        sex: person.sex\n      }, {\n        sex: \"Undefined\"\n      }]\n    }, {\n      $or: [{\n        $or: [{\n          last: person.last\n        }, {\n          $or: [{\n            $and: [{\n              age_min: {\n                $lte: person_age\n              }\n            }, {\n              age_max: {\n                $gte: person_age\n              }\n            }]\n          }, {\n            $and: [{\n              weight_min: {\n                $lte: person.weight\n              }\n            }, {\n              weight_max: {\n                $gte: person.weight\n              }\n            }]\n          }, {\n            $and: [{\n              height_min: {\n                $lte: person.height\n              }\n            }, {\n              height_max: {\n                $gte: person.height\n              }\n            }]\n          }]\n        }]\n      }, {\n        $or: [{\n          $and: [{\n            age_min: {\n              $lte: person_age\n            }\n          }, {\n            age_max: {\n              $gte: person_age\n            }\n          }]\n        }, {\n          $or: [{\n            $and: [{\n              weight_min: {\n                $lte: person.weight\n              }\n            }, {\n              weight_max: {\n                $gte: person.weight\n              }\n            }]\n          }, {\n            $and: [{\n              height_min: {\n                $lte: person.height\n              }\n            }, {\n              height_max: {\n                $gte: person.height\n              }\n            }]\n          }]\n        }]\n      }]\n    }]\n  };\n}\nexport function searchAlgorithm(person) {\n  return {\n    $and: [{\n      $or: [{\n        sex: person.sex\n      }, {\n        sex: \"Undefined\"\n      }]\n    }, {\n      $or: [{\n        first: person.first\n      }, {\n        last: person.last\n      }]\n    }]\n  };\n}\nexport function advancedSearchAlgorithm(person) {\n  if (person.dob) {\n    var dt = new Date();\n\n    const _dt$toISOString$slice3 = dt.toISOString().slice(0, 9).split('-'),\n          _dt$toISOString$slice4 = _slicedToArray(_dt$toISOString$slice3, 3),\n          current_y = _dt$toISOString$slice4[0],\n          current_m = _dt$toISOString$slice4[1],\n          current_d = _dt$toISOString$slice4[2];\n\n    const y_min = current_y - person.age_min;\n    const y_max = current_y - person.age_max;\n    var _ref = [[y_min, current_m, current_d].join('-'), [y_max, current_m, current_d].join('-')],\n        age_min = _ref[0],\n        age_max = _ref[1];\n  } else {\n    var age_min = null,\n        age_max = null;\n  }\n\n  return {\n    $and: [{\n      $or: [{\n        sex: person.sex\n      }, {\n        sex: \"Undefined\"\n      }]\n    }, {\n      $or: [{\n        first: person.first\n      }, {\n        last: person.last\n      }]\n    }, {\n      $or: [{\n        $and: [{\n          dob: {\n            $lte: age_min\n          }\n        }, {\n          dob: {\n            $gte: age_max\n          }\n        }]\n      }, {\n        $and: [{\n          height: {\n            $lte: person.height_max\n          }\n        }, {\n          height: {\n            $gte: person.height_min\n          }\n        }]\n      }, {\n        $and: [{\n          weight: {\n            $lte: person.weight_max\n          }\n        }, {\n          weight: {\n            $gte: person.weight_min\n          }\n        }]\n      }]\n    }]\n  };\n}","map":{"version":3,"sources":["/home/abiery/Projects/RESP/src/components/SearchAlgorithms.js"],"names":["checkInAlgorithm","person","dob","dt","Date","toISOString","slice","split","current_y","current_m","current_d","y","m","d","greater_month","parseInt","greater_day","person_age","$and","first","$or","sex","last","age_min","$lte","age_max","$gte","weight_min","weight","weight_max","height_min","height","height_max","searchAlgorithm","advancedSearchAlgorithm","y_min","y_max","join"],"mappings":"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","sourcesContent":["export function checkInAlgorithm(person) {\n  if(person.dob) {\n    var dt = new Date();\n    const [current_y, current_m, current_d] = dt.toISOString().slice(0, 9).split('-');\n    const [y, m, d] = person.dob.split('-');\n    const greater_month = (parseInt(current_m) - parseInt(m)) > 0;\n    const greater_day = (parseInt(current_d) - parseInt(d)) > 0;\n    var person_age = (greater_month && greater_day) ? parseInt(current_y) - parseInt(y)\n                                                    : parseInt(current_y) - parseInt(y) - 1;\n  } else {\n    var person_age = null;\n  }\n  return {\n           $and : [{first : person.first},\n                   {$or : [{sex : person.sex}, {sex : \"Undefined\"}]},\n                   {$or : [{$or : [{last: person.last},\n                                    {$or : [{$and : [{age_min : {$lte : person_age}}, {age_max : {$gte : person_age}}]},\n                                            {$and : [{weight_min : {$lte : person.weight}}, {weight_max : {$gte : person.weight}}]},\n                                            {$and : [{height_min : {$lte : person.height}}, {height_max : {$gte : person.height}}]}] }]},\n                           {$or : [{$and : [{age_min : {$lte : person_age}}, {age_max : {$gte : person_age}}]},\n                                    {$or : [{$and : [{weight_min : {$lte : person.weight}}, {weight_max : {$gte : person.weight}}]},\n                                            {$and : [{height_min : {$lte : person.height}}, {height_max : {$gte : person.height}}]}] }] }] }\n           ]\n         }\n}\n\nexport function searchAlgorithm(person) {\n  return {\n           $and : [{$or : [{sex : person.sex}, {sex : \"Undefined\"}]},\n                   {$or : [{first : person.first}, {last : person.last}]}\n                  ]\n         }\n}\n\nexport function advancedSearchAlgorithm(person) {\n  if(person.dob) {\n    var dt = new Date();\n    const [current_y, current_m, current_d] = dt.toISOString().slice(0, 9).split('-');\n    const y_min = current_y - person.age_min;\n    const y_max = current_y - person.age_max;\n    var [age_min, age_max] = [[y_min, current_m ,current_d].join('-'), [y_max, current_m, current_d].join('-')];\n  } else {\n    var [age_min, age_max] = [null, null];\n  }\n  return {\n           $and : [{$or : [{sex : person.sex}, {sex : \"Undefined\"}]},\n                   {$or : [{first : person.first}, {last : person.last}]},\n                   {$or : [{$and : [{dob : {$lte : age_min} }, {dob : {$gte : age_max}}]},\n                           {$and : [{height : {$lte : person.height_max}}, {height : {$gte : person.height_min}}]},\n                           {$and : [{weight : {$lte : person.weight_max}}, {weight : {$gte : person.weight_min}}]}\n                           ]}\n                  ]\n         }\n}\n"]},"metadata":{},"sourceType":"module"}