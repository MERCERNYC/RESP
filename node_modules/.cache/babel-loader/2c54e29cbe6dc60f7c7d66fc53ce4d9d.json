{"ast":null,"code":"import _objectSpread from \"/home/abiery/Projects/RESP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/abiery/Projects/RESP/src/components/AssignLocation.js\";\nimport React, { Component } from \"react\";\nimport { stitchClient, db } from '../stitch/database';\nimport { loginAnonymous } from '../stitch/auth';\nimport Camera from './Camera';\nimport FinishCheckIn from './FinishCheckIn';\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\nimport { Modal } from 'reactstrap';\n\nfunction campsiteToButton(campsite) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    id: campsite.name,\n    name: \"campsite\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    for: campsite.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, \"Campsite \", campsite.name));\n}\n\nclass AssignCamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = _objectSpread({}, this.props.location.state);\n    this.toNext = false;\n    this.getCampsites = this.getCampsites.bind(this);\n    this.assign = this.assign.bind(this);\n    this.addFound = this.addFound.bind(this);\n  }\n\n  componentDidMount() {\n    this.getCampsites();\n  }\n\n  async getCampsites() {\n    var campsites = [];\n    await db.collection(\"campsites\").find({}).toArray().then(sites => {\n      sites.forEach(site => campsites.push(site));\n    }).catch(err => console.error(\"Failed to find documents: \".concat(err)));\n    this.campsites = campsites;\n  }\n\n  assign(campsite) {\n    this.person = _objectSpread({}, this.state, {\n      campsite: campsite\n    });\n  }\n\n  addFound() {\n    const person = _objectSpread({}, this.state);\n\n    db.collection(\"found\").insertOne(person).catch(console.error);\n    alert('Check-in Successful! Redirecting home');\n    this.nextPage = React.createElement(Redirect, {\n      push: true,\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    });\n    this.toNext = true;\n    this.setState(this.state);\n  }\n\n  render() {\n    if (this.state.toNext) {\n      return React.createElement(Redirect, {\n        push: true,\n        to: {\n          pathname: \"\".concat(this.props.match.url, \"/finish\"),\n          state: _objectSpread({}, this.person)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Assign Location\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, this.campsites.map(campsiteToButton), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Next\")))));\n  }\n\n}\n\nconst AssignLocation = ({\n  match\n}) => React.createElement(Router, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 76\n  },\n  __self: this\n}, React.createElement(Route, {\n  exact: true,\n  path: \"\".concat(match.path),\n  component: AssignCamp,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 77\n  },\n  __self: this\n}), React.createElement(Route, {\n  path: \"\".concat(match.path, \"/finish\"),\n  component: FinishCheckIn,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 78\n  },\n  __self: this\n}));\n\nexport default AssignLocation;","map":{"version":3,"sources":["/home/abiery/Projects/RESP/src/components/AssignLocation.js"],"names":["React","Component","stitchClient","db","loginAnonymous","Camera","FinishCheckIn","BrowserRouter","Router","Route","Redirect","Switch","Modal","campsiteToButton","campsite","name","AssignCamp","constructor","props","state","location","toNext","getCampsites","bind","assign","addFound","componentDidMount","campsites","collection","find","toArray","then","sites","forEach","site","push","catch","err","console","error","person","insertOne","alert","nextPage","setState","render","pathname","match","url","map","AssignLocation","path"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { stitchClient, db } from '../stitch/database';\nimport { loginAnonymous } from '../stitch/auth';\nimport Camera from './Camera';\nimport FinishCheckIn from './FinishCheckIn';\nimport {BrowserRouter as Router, Route, Redirect, Switch} from 'react-router-dom';\nimport { Modal } from 'reactstrap';\n\nfunction campsiteToButton(campsite) {\n  return (<div>\n            <input type=\"radio\" id={campsite.name}\n            name=\"campsite\"/>\n            <label for={campsite.name}>Campsite {campsite.name}</label>\n          </div>);\n}\n\nclass AssignCamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {...this.props.location.state};\n    this.toNext = false\n    this.getCampsites = this.getCampsites.bind(this);\n    this.assign = this.assign.bind(this);\n    this.addFound = this.addFound.bind(this);\n  }\n  componentDidMount() {\n    this.getCampsites();\n  }\n  async getCampsites() {\n    var campsites = []\n    await db\n      .collection(\"campsites\")\n      .find({})\n      .toArray()\n      .then(sites => {\n        sites.forEach(site => campsites.push(site));\n      })\n      .catch(err => console.error(`Failed to find documents: ${err}`));\n    this.campsites = campsites;\n  }\n  assign(campsite) {\n    this.person = {...this.state, campsite : campsite};\n  }\n  addFound() {\n    const person = {...this.state};\n    db\n      .collection(\"found\")\n      .insertOne(person)\n      .catch(console.error);\n    alert('Check-in Successful! Redirecting home');\n    this.nextPage = <Redirect push to='/'/>;\n    this.toNext = true;\n    this.setState(this.state);\n  }\n  render() {\n    if(this.state.toNext) {\n      return <Redirect push to={{pathname: `${this.props.match.url}/finish`, state: {...this.person}}}/>\n    }\n    return(\n      <div>\n      <h3>Assign Location</h3>\n      <div>\n        <form>\n          {this.campsites.map(campsiteToButton)}\n          <div>\n            <button type=\"submit\">Next</button>\n          </div>\n        </form>\n      </div>\n      </div>\n    );\n  }\n}\n\nconst AssignLocation = ({match}) => (\n      <Router>\n        <Route exact path={`${match.path}`} component={AssignCamp} />\n        <Route path={`${match.path}/finish`} component={FinishCheckIn} />\n      </Router>\n    );\n\nexport default AssignLocation;\n"]},"metadata":{},"sourceType":"module"}