{"ast":null,"code":"import React, { Component } from 'react';\nimport { Stitch, AnonymousCredential, RemoteMongoClient } from 'mongodb-stitch-browser-sdk';\nconst APP_ID = 'resp-nqkab';\nconst stitchClient = Stitch.hasAppClient(APP_ID) ? Stitch.getAppClient(APP_ID) : Stitch.initializeAppClient(APP_ID);\nconst db = stitchClient.getServiceClient(RemoteMongoClient.factory, 'mongodb-atlas').db('sample_disaster');\nconst found = db.collection('found');\nconst missing = db.collection('mising');\nexport function loginAnonymous() {\n  const credential = new AnonymousCredential();\n  return stitchClient.auth.loginWithCredential(credential);\n}\nexport function hasLoggedInUser() {\n  return stitchClient.auth.isLoggedIn;\n}\nexport function getCurrentUser() {\n  return stitchClient.auth.isLoggedIn ? app.auth.user : null;\n}\nexport function logoutCurrentUser() {\n  const user = getCurrentUser();\n  return stitchClient.auth.logoutUserWithId(user.id);\n}\nexport { stitchClient, found, missing };","map":{"version":3,"sources":["/home/abiery/Projects/RESP/src/Stitch/Database.js"],"names":["React","Component","Stitch","AnonymousCredential","RemoteMongoClient","APP_ID","stitchClient","hasAppClient","getAppClient","initializeAppClient","db","getServiceClient","factory","found","collection","missing","loginAnonymous","credential","auth","loginWithCredential","hasLoggedInUser","isLoggedIn","getCurrentUser","app","user","logoutCurrentUser","logoutUserWithId","id"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SACEC,MADF,EAEEC,mBAFF,EAGEC,iBAHF,QAIO,4BAJP;AAMA,MAAMC,MAAM,GAAG,YAAf;AAEA,MAAMC,YAAY,GAAGJ,MAAM,CAACK,YAAP,CAAoBF,MAApB,IACjBH,MAAM,CAACM,YAAP,CAAoBH,MAApB,CADiB,GAEjBH,MAAM,CAACO,mBAAP,CAA2BJ,MAA3B,CAFJ;AAIA,MAAMK,EAAE,GAAGJ,YAAY,CACpBK,gBADQ,CACSP,iBAAiB,CAACQ,OAD3B,EACoC,eADpC,EAERF,EAFQ,CAEL,iBAFK,CAAX;AAIA,MAAMG,KAAK,GAAGH,EAAE,CAACI,UAAH,CAAc,OAAd,CAAd;AACA,MAAMC,OAAO,GAAGL,EAAE,CAACI,UAAH,CAAc,QAAd,CAAhB;AAEA,OAAO,SAASE,cAAT,GAA0B;AAC/B,QAAMC,UAAU,GAAG,IAAId,mBAAJ,EAAnB;AACA,SAAOG,YAAY,CAACY,IAAb,CAAkBC,mBAAlB,CAAsCF,UAAtC,CAAP;AACD;AAED,OAAO,SAASG,eAAT,GAA2B;AAChC,SAAOd,YAAY,CAACY,IAAb,CAAkBG,UAAzB;AACD;AAED,OAAO,SAASC,cAAT,GAA0B;AAC/B,SAAOhB,YAAY,CAACY,IAAb,CAAkBG,UAAlB,GAA+BE,GAAG,CAACL,IAAJ,CAASM,IAAxC,GAA+C,IAAtD;AACD;AAED,OAAO,SAASC,iBAAT,GAA6B;AAClC,QAAMD,IAAI,GAAGF,cAAc,EAA3B;AACA,SAAOhB,YAAY,CAACY,IAAb,CAAkBQ,gBAAlB,CAAmCF,IAAI,CAACG,EAAxC,CAAP;AACD;AAED,SAAQrB,YAAR,EAAsBO,KAAtB,EAA6BE,OAA7B","sourcesContent":["import React, {Component} from 'react';\nimport {\n  Stitch,\n  AnonymousCredential,\n  RemoteMongoClient\n} from 'mongodb-stitch-browser-sdk'\n\nconst APP_ID = 'resp-nqkab';\n\nconst stitchClient = Stitch.hasAppClient(APP_ID)\n  ? Stitch.getAppClient(APP_ID)\n  : Stitch.initializeAppClient(APP_ID);\n\nconst db = stitchClient\n  .getServiceClient(RemoteMongoClient.factory, 'mongodb-atlas')\n  .db('sample_disaster');\n\nconst found = db.collection('found');\nconst missing = db.collection('mising');\n\nexport function loginAnonymous() {\n  const credential = new AnonymousCredential();\n  return stitchClient.auth.loginWithCredential(credential);\n}\n\nexport function hasLoggedInUser() {\n  return stitchClient.auth.isLoggedIn;\n}\n\nexport function getCurrentUser() {\n  return stitchClient.auth.isLoggedIn ? app.auth.user : null;\n}\n\nexport function logoutCurrentUser() {\n  const user = getCurrentUser();\n  return stitchClient.auth.logoutUserWithId(user.id);\n}\n\nexport {stitchClient, found, missing};\n"]},"metadata":{},"sourceType":"module"}