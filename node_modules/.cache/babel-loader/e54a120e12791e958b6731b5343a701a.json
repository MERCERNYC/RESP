{"ast":null,"code":"var _jsxFileName = \"/home/abiery/Projects/RESP/src/components/Loading.js\";\nimport React, { Component } from \"react\";\nimport { stitchClient, db } from '../stitch/database';\nimport { loginAnonymous } from '../stitch/auth';\nimport { BrowserRouter as Router, Route, Link, Redirect } from 'react-router-dom';\nimport PersonFound from './PersonFound';\nimport AssignLocation from './AssignLocation';\nexport default class Loading extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      found: this.props.found\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.anyMatches = this.anyMatches.bind(this);\n  }\n\n  componentDidMount() {\n    this.client = stitchClient;\n    this.db = db;\n    loginAnonymous();\n    this.anyMatches();\n  }\n\n  async anyMatches() {\n    this.moveOn = true;\n    var matches = [];\n    await this.db.collection('missing').find({\n      first: this.props.first\n    }, {\n      limit: 20\n    }).toArray().then(people => {\n      people.forEach(person => matches.push(person));\n    }).catch(err => console.error(\"Failed to find documents: \".concat(err)));\n    this.setState({\n      found: matches\n    });\n    this.personFound = !(this.state.found.length === 0);\n  }\n\n  handleClick() {\n    console.log(this.props.first);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Loading...\"), React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"first\"));\n  }\n\n}","map":{"version":3,"sources":["/home/abiery/Projects/RESP/src/components/Loading.js"],"names":["React","Component","stitchClient","db","loginAnonymous","BrowserRouter","Router","Route","Link","Redirect","PersonFound","AssignLocation","Loading","constructor","props","state","found","handleClick","bind","anyMatches","componentDidMount","client","moveOn","matches","collection","find","first","limit","toArray","then","people","forEach","person","push","catch","err","console","error","setState","personFound","length","log","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,YAAT,EAAuBC,EAAvB,QAAiC,oBAAjC;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAAQC,aAAa,IAAIC,MAAzB,EAAiCC,KAAjC,EAAwCC,IAAxC,EAA8CC,QAA9C,QAA6D,kBAA7D;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,eAAe,MAAMC,OAAN,SAAsBX,SAAtB,CAAgC;AAC7CY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE;AADP,KAAb;AAGA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;AACD;;AACDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,MAAL,GAAcnB,YAAd;AACA,SAAKC,EAAL,GAAUA,EAAV;AACAC,IAAAA,cAAc;AACd,SAAKe,UAAL;AACD;;AACD,QAAMA,UAAN,GAAmB;AACjB,SAAKG,MAAL,GAAc,IAAd;AACA,QAAIC,OAAO,GAAG,EAAd;AACA,UAAM,KAAKpB,EAAL,CAAQqB,UAAR,CAAmB,SAAnB,EACHC,IADG,CACE;AAACC,MAAAA,KAAK,EAAG,KAAKZ,KAAL,CAAWY;AAApB,KADF,EAC8B;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAD9B,EAEHC,OAFG,GAGHC,IAHG,CAGEC,MAAM,IAAI;AACdA,MAAAA,MAAM,CAACC,OAAP,CAAeC,MAAM,IAAIT,OAAO,CAACU,IAAR,CAAaD,MAAb,CAAzB;AACD,KALG,EAMHE,KANG,CAMGC,GAAG,IAAIC,OAAO,CAACC,KAAR,qCAA2CF,GAA3C,EANV,CAAN;AAOA,SAAKG,QAAL,CAAc;AAACtB,MAAAA,KAAK,EAAGO;AAAT,KAAd;AACA,SAAKgB,WAAL,GAAmB,EAAE,KAAKxB,KAAL,CAAWC,KAAX,CAAiBwB,MAAjB,KAA4B,CAA9B,CAAnB;AACD;;AACDvB,EAAAA,WAAW,GAAG;AACZmB,IAAAA,OAAO,CAACK,GAAR,CAAY,KAAK3B,KAAL,CAAWY,KAAvB;AACD;;AACDgB,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,EAEA;AAAQ,MAAA,OAAO,EAAE,KAAKzB,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFA,CADF;AAMD;;AAtC4C","sourcesContent":["import React, { Component } from \"react\";\nimport { stitchClient, db } from '../stitch/database';\nimport { loginAnonymous } from '../stitch/auth';\nimport {BrowserRouter as Router, Route, Link, Redirect} from 'react-router-dom';\nimport PersonFound from './PersonFound';\nimport AssignLocation from './AssignLocation';\n\nexport default class Loading extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      found: this.props.found\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.anyMatches = this.anyMatches.bind(this);\n  }\n  componentDidMount() {\n    this.client = stitchClient;\n    this.db = db;\n    loginAnonymous();\n    this.anyMatches();\n  }\n  async anyMatches() {\n    this.moveOn = true;\n    var matches = [];\n    await this.db.collection('missing')\n      .find({first : this.props.first}, { limit: 20 })\n      .toArray()\n      .then(people => {\n        people.forEach(person => matches.push(person));\n      })\n      .catch(err => console.error(`Failed to find documents: ${err}`));\n    this.setState({found : matches});\n    this.personFound = !(this.state.found.length === 0);\n  }\n  handleClick() {\n    console.log(this.props.first);\n  }\n  render() {\n    return(\n      <div>\n      <h3>Loading...</h3>\n      <button onClick={this.handleClick}>first</button>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}