{"ast":null,"code":"var _jsxFileName = \"/home/abiery/Projects/RESP/src/components/CheckIn.js\";\nimport React, { Component } from 'react';\nimport { stitchClient, db } from '../stitch/database';\nimport { loginAnonymous } from '../stitch/auth';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport PersonFound from './PersonFound';\nimport AssignLocation from './AssignLocation';\nimport Camera from './Camera';\nexport default class CheckIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      owner_id: undefined,\n      first: undefined,\n      last: undefined,\n      mi: undefined,\n      dob: undefined,\n      sex: undefined,\n      height: undefined,\n      weight: undefined,\n      description: undefined,\n      picture: undefined,\n      found: []\n    };\n    this.handleFill = this.handleFill.bind(this);\n    this.storePictureURI = this.storePictureURI.bind(this);\n    this.anyMatches = this.anyMatches.bind(this);\n  }\n\n  componentDidMount() {\n    this.client = stitchClient;\n    this.db = db;\n    loginAnonymous();\n  }\n\n  handleFill(event) {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  storePictureURI(uri) {\n    this.setState({\n      picture: uri\n    });\n  }\n\n  anyMatches() {\n    var matches = this.db.collection('mising').find({\n      $and: [{\n        first: this.state.first\n      }, {\n        $or: [{\n          sex: this.state.sex\n        }, {\n          sex: \"unknown\"\n        }]\n      }, {\n        $or: [{\n          last: this.state.last\n        }, {\n          weight_range: {\n            $gte: this.state.weight,\n            $lte: this.state.weight\n          }\n        }]\n      }]\n    });\n    console.log(matches.toArray());\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"CheckIn\"), React.createElement(\"form\", {\n      id: \"checkin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"First Name:\", React.createElement(\"input\", {\n      name: \"first\",\n      type: \"text\",\n      value: this.state.first,\n      onChange: this.handleFill,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Last Name:\", React.createElement(\"input\", {\n      name: \"last\",\n      type: \"text\",\n      value: this.state.last,\n      onChange: this.handleFill,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Middle Initial:\", React.createElement(\"input\", {\n      name: \"mi\",\n      type: \"text\",\n      value: this.state.mi,\n      onChange: this.handleFill,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Date of Birth:\", React.createElement(\"input\", {\n      name: \"dob\",\n      type: \"text\",\n      value: this.state.dob,\n      onChange: this.handleFill,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Sex:\", React.createElement(\"input\", {\n      name: \"sex\",\n      type: \"text\",\n      value: this.state.sex,\n      onChange: this.handleFill,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Height:\", React.createElement(\"input\", {\n      name: \"height\",\n      type: \"text\",\n      value: this.state.height,\n      onChange: this.handleFill,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Weight:\", React.createElement(\"input\", {\n      name: \"weight\",\n      type: \"text\",\n      value: this.state.weight,\n      onChange: this.handleFill,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Description:\", React.createElement(\"input\", {\n      name: \"description\",\n      type: \"text\",\n      value: this.state.description,\n      onChange: this.handleFill,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), \"Take Picture:\", React.createElement(Camera, {\n      storePicture: uri => this.storePictureURI(uri),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.anyMatches,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Next\"))), React.createElement(Route, {\n      path: \"/check-in/found\",\n      component: PersonFound,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"check-in/assign-location\",\n      component: AssignLocation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/abiery/Projects/RESP/src/components/CheckIn.js"],"names":["React","Component","stitchClient","db","loginAnonymous","BrowserRouter","Router","Route","Link","Formik","PersonFound","AssignLocation","Camera","CheckIn","constructor","props","state","owner_id","undefined","first","last","mi","dob","sex","height","weight","description","picture","found","handleFill","bind","storePictureURI","anyMatches","componentDidMount","client","event","target","name","value","setState","uri","matches","collection","find","$and","$or","weight_range","$gte","$lte","console","log","toArray","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { stitchClient, db } from '../stitch/database';\nimport { loginAnonymous } from '../stitch/auth';\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\nimport { Formik } from 'formik';\nimport PersonFound from './PersonFound';\nimport AssignLocation from './AssignLocation';\nimport Camera from './Camera';\n\nexport default class CheckIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      owner_id: undefined,\n      first: undefined,\n      last: undefined,\n      mi: undefined,\n      dob: undefined,\n      sex: undefined,\n      height: undefined,\n      weight: undefined,\n      description: undefined,\n      picture: undefined,\n      found: [],\n    };\n    this.handleFill = this.handleFill.bind(this);\n    this.storePictureURI = this.storePictureURI.bind(this);\n    this.anyMatches = this.anyMatches.bind(this);\n  }\n\n  componentDidMount() {\n    this.client = stitchClient;\n    this.db = db;\n    loginAnonymous();\n  }\n\n  handleFill(event) {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    this.setState({ [name] : value});\n  }\n\n  storePictureURI(uri) {\n    this.setState({picture: uri});\n  }\n\n  anyMatches() {\n    var matches = this.db.collection('mising')\n      .find({\n        $and : [{first : this.state.first},\n                {$or : [{sex : this.state.sex}, {sex : \"unknown\"}]},\n                {$or : [{last : this.state.last},\n                        {weight_range : {$gte : this.state.weight, $lte : this.state.weight}}]\n                }]\n      });\n    console.log(matches.toArray());\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          <h3>CheckIn</h3>\n          <form id='checkin'>\n            <label>\n              First Name:\n               <input name=\"first\" type=\"text\" value={this.state.first} onChange={this.handleFill} />\n            </label>\n            <p></p>\n            <label>\n              Last Name:\n               <input name=\"last\" type=\"text\" value={this.state.last} onChange={this.handleFill} />\n            </label>\n            <p></p>\n            <label>\n              Middle Initial:\n               <input name=\"mi\" type=\"text\" value={this.state.mi} onChange={this.handleFill} />\n            </label>\n            <p></p>\n            <label>\n              Date of Birth:\n               <input name=\"dob\" type=\"text\" value={this.state.dob} onChange={this.handleFill} />\n            </label>\n            <p></p>\n            <label>\n              Sex:\n               <input name=\"sex\" type=\"text\" value={this.state.sex} onChange={this.handleFill} />\n            </label>\n            <p></p>\n            <label>\n              Height:\n               <input name=\"height\" type=\"text\" value={this.state.height} onChange={this.handleFill} />\n            </label>\n            <p></p>\n            <label>\n              Weight:\n               <input name=\"weight\" type=\"text\" value={this.state.weight} onChange={this.handleFill} />\n            </label>\n            <p></p>\n            <label>\n              Description:\n               <input name=\"description\" type=\"text\" value={this.state.description} onChange={this.handleFill} />\n            </label>\n            <p></p>\n              Take Picture:\n              <Camera storePicture={(uri) => this.storePictureURI(uri)}/>\n            <p></p>\n            <button type=\"button\" onClick={this.anyMatches}>Next</button>\n          </form>\n        </div>\n        <Route path='/check-in/found' component={PersonFound}/>\n        <Route path='check-in/assign-location' component={AssignLocation}/>\n      </Router>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}